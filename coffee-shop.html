<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Coffee Shop ‚Äî Career Checklist</title>
  <style>
    :root{
      --coffee:#5c3d2e; --latte:#f7efe7; --mocha:#8b5e3c; --cream:#fff9f3;
      --ink:#2a1f19; --accent:#c2956b; --ok:#2e7d32;
    }
    html,body{margin:0;padding:0;background:var(--cream);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.55;}
    .wrap{max-width:900px;margin:0 auto;padding:24px 18px 64px;}
    header{background:linear-gradient(135deg,var(--latte),#fff);border-bottom:3px solid var(--accent);padding:18px 0; margin-bottom:20px;}
    .brand{display:flex;gap:12px;align-items:center}
    .cup{font-size:28px}
    h1{font-size:28px;margin:0;color:var(--coffee)}
    .muted{color:#6d5a50;font-size:14px}
    .role-tag{display:inline-block;background:var(--accent);color:white;padding:4px 10px;border-radius:999px;font-size:12px;margin-top:6px}
    .card{background:white;border:1px solid #eadfd7;border-radius:14px;padding:16px 16px 6px;margin:14px 0;box-shadow:0 1px 0 rgba(0,0,0,.03)}
    .card h2{margin:0 0 8px 0;color:var(--mocha);font-size:20px}
    .tips{background:#fff7ef;border-left:4px solid var(--accent);padding:10px 12px;border-radius:8px;margin-top:12px;color:#5a432f}
    .list{list-style:none;margin:8px 0 2px 0;padding:0}
    .list li{display:flex;gap:10px;align-items:flex-start;padding:10px 8px;border-radius:10px}
    .list li:hover{background:#faf6f2}
    .list input[type=checkbox]{transform:scale(1.15);margin-top:2px}
    .actions{display:flex;flex-wrap:wrap;gap:10px;margin:14px 0 22px}
    .btn{background:var(--coffee);color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer}
    .btn.alt{background:#e8ded5;color:#3b2a20}
    .btn.warn{background:#a4412b}
    .btn.ghost{background:transparent;border:1px dashed var(--accent);color:var(--coffee)}
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .progress{height:10px;background:#efe6de;border-radius:999px;overflow:hidden;margin:10px 0 4px}
    .bar{height:100%;width:0;background:linear-gradient(90deg,var(--ok),#6fbf73)}
    .pct{font-size:12px;color:#4a3a31}
    .pill{display:inline-flex;gap:6px;align-items:center;background:#f2e7dd;color:#5a4638;border:1px solid #eadfd7;padding:6px 10px;border-radius:999px;font-size:12px}
    .nav{display:flex;gap:10px;flex-wrap:wrap;margin:12px 0}
    a{color:#5a3e2f}
    footer{margin-top:28px;color:#6d5a50;font-size:12px}
    .grid{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:860px){.grid{grid-template-columns:repeat(3,1fr)}}
    .hint{font-size:12px;color:#7a675c;margin-top:2px}
    .summary-list{margin:8px 0 10px 16px}
    .summary-list li{margin:6px 0}
    .badge{display:inline-block;background:#efe6de;color:#4b382c;border-radius:6px;padding:2px 8px;font-size:11px;margin-left:6px}
    .ok{color:var(--ok);font-weight:600}
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="brand">
      <div class="cup">‚òïÔ∏è</div>
      <div>
        <h1>The Coffee Shop ‚Äî Career Checklist</h1>
        <div class="muted">Practical, friendly prep for newcomers to Canadian tech.</div>
        <div id="roleTag" class="role-tag" hidden></div>
      </div>
    </div>
    <div class="nav">
      <span class="pill">Jump to:</span>
      <a class="pill" href="coffee-shop.html?role=designer">üé® Designers</a>
      <a class="pill" href="coffee-shop.html?role=developer">üíª Developers</a>
      <a class="pill" href="coffee-shop.html?role=tester">üß™ Testers</a>
      <a class="pill" href="coffee-shop.html?role=analyst">üß≠ Business Analysts</a>
      <a class="pill" href="index.md">üè† Home</a>
    </div>
  </div>
</header>

<main class="wrap">
  <div class="card">
    <div class="progress"><div id="bar" class="bar"></div></div>
    <div class="pct"><span id="pct">0%</span> complete ‚Ä¢ Saved locally</div>
    <div class="actions">
      <button class="btn" onclick="window.print()">üñ®Ô∏è Print / Save PDF</button>
      <button class="btn alt" id="exportBtn">‚¨áÔ∏è Export .json</button>
      <button class="btn warn" id="resetBtn">‚ôªÔ∏è Reset checklist</button>
      <button class="btn ghost" id="analyzeBtn">üìä Analyze My Skill Gaps</button>
    </div>
    <div class="hint">Tip: Use <b>Print / Save as PDF</b> after you check items to create a one-page interview prep sheet.</div>
  </div>

  <section id="sections" class="grid"></section>

  <!-- Skill-Gap Summary appears here -->
  <div id="summaryCard" class="card" style="display:none">
    <h2>üìä Skill-Gap Summary</h2>
    <div id="summaryIntro" class="muted"></div>
    <ol id="topActions" class="summary-list"></ol>
    <div id="sectionBreakdown"></div>
    <div class="tips" id="roleAdvice"></div>
  </div>

  <div class="card tips">
    <b>‚òï Coffee Tip:</b> Progress beats perfection. Bring one concrete example to every interview: the problem, what you did, and the impact.
  </div>

  <footer>
    Curated with ‚ù§Ô∏è in the Coffee Shop. Your selections never leave your browser (localStorage only).
  </footer>
</main>

<script>
/* ---------- Data (edit to taste) ---------- */
const DATA = {
  designer: {
    label: "üé® Designers (UX/UI/Product)",
    tips: [
      "Show empathy for the developer who will build your design.",
      "Tell the story: problem ‚Üí process ‚Üí impact (before/after).",
    ],
    sections: {
      "The Essentials": [
        "Understand user journeys, personas, wireframes, usability tests",
        "Tools: Figma ‚Ä¢ Adobe XD ‚Ä¢ Miro ‚Ä¢ Notion (collaboration)",
        "Responsive design & WCAG accessibility basics",
        "Use analytics/feedback loops (GA, Hotjar) to iterate",
      ],
      "The Showcase": [
        "Portfolio with 3‚Äì5 projects (role, process, outcomes)",
        "1 case study focused on problem-solving over pixels",
        "Link Behance/Dribbble + LinkedIn ‚ÄòFeatured‚Äô",
      ],
      "The Edge": [
        "Basic HTML/CSS or component library familiarity",
        "Agile handoff skills (Figma specs, Zeplin, dev notes)",
        "Confident storytelling to non-design stakeholders",
      ]
    }
  },
  developer: {
    label: "üíª Developers (Front/Back/Full-stack)",
    tips: [
      "Master one stack deeply; show you can learn the rest.",
      "Write READMEs that explain ‚Äòwhy‚Äô, not just ‚Äòhow‚Äô.",
    ],
    sections: {
      "The Essentials": [
        "Core language: Python ‚Ä¢ Java ‚Ä¢ JS/TS ‚Ä¢ C# (pick one primary)",
        "Framework: React ‚Ä¢ Spring Boot ‚Ä¢ Node/Express ‚Ä¢ Django ‚Ä¢ .NET",
        "Git & GitHub: branches, PRs, code reviews",
        "APIs & JSON; calling and building simple REST endpoints",
      ],
      "The Showcase": [
        "2‚Äì3 public projects with clear READMEs",
        "One collaborative repo (demonstrates teamwork)",
        "Deployed demo (Render/Netlify/Streamlit) when possible",
      ],
      "The Edge": [
        "Docker basics; CI/CD or GitHub Actions",
        "Testing: Pytest ‚Ä¢ JUnit ‚Ä¢ Postman collections",
        "Cloud familiarity (AWS/Azure fundamentals)",
        "Clear stand-up updates and PR communication",
      ]
    }
  },
  tester: {
    label: "üß™ Testers / QA Analysts",
    tips: [
      "QA builds trust ‚Äî highlight risk thinking and prevention.",
      "Great bug reports are polite, precise, and reproducible.",
    ],
    sections: {
      "The Essentials": [
        "Manual testing lifecycle: test cases, UAT, bug lifecycle",
        "Tools: Jira ‚Ä¢ Confluence ‚Ä¢ TestRail ‚Ä¢ Postman",
        "SDLC understanding and QA‚Äôs role in Agile",
        "Basic scripting for automation (Python/Java)",
      ],
      "The Showcase": [
        "Mini automation project (Selenium + Pytest/JUnit)",
        "Sample bug reports & test docs (PDF/Notion)",
        "Open-source issue participation (GitHub Issues)",
      ],
      "The Edge": [
        "API testing & performance testing (JMeter)",
        "CI integration for automated test runs",
        "Strong cross-team communication habits",
      ]
    }
  },
  analyst: {
    label: "üß≠ Business Systems Analysts",
    tips: [
      "Translate tech to value; speak in outcomes.",
      "Ask ‚ÄòWhat problem are we solving?‚Äô early and often.",
    ],
    sections: {
      "The Essentials": [
        "Agile/Scrum basics; story writing & acceptance criteria",
        "Tools: Jira ‚Ä¢ Confluence ‚Ä¢ Lucidchart/Draw.io/Visio",
        "Requirements elicitation (interviews, workshops)",
        "Basic SQL/data validation skills",
      ],
      "The Showcase": [
        "2‚Äì3 project narratives: stakeholder ‚Üí requirement ‚Üí impact",
        "1 visual process map (BPMN or simplified swimlane)",
        "Evidence of cross-team facilitation",
      ],
      "The Edge": [
        "Domain familiarity (banking, insurance, public sector)",
        "Stakeholder management, negotiation, storytelling",
        "Optional: CBAP/CSPO/Scrum Master certifications",
      ]
    }
  }
};

/* ---------- Helpers ---------- */
const qs = (k) => new URLSearchParams(location.search).get(k);
const role = (qs("role")||"").toLowerCase();
const KEY = (id) => `coffeeChecklist::${role}::${id}`;
const state = JSON.parse(localStorage.getItem(KEY("state"))||"{}");

function saveState(){ localStorage.setItem(KEY("state"), JSON.stringify(state)); renderProgress(); }
function renderProgress(){
  const total = document.querySelectorAll('input[type=checkbox]').length;
  const done = document.querySelectorAll('input[type=checkbox]:checked').length;
  const pct = total? Math.round(done*100/total) : 0;
  document.getElementById('pct').textContent = pct + "%";
  document.getElementById('bar').style.width = pct + "%";
}

function build(){
  const container = document.getElementById("sections");
  container.innerHTML = "";

  const pack = DATA[role];
  const tag = document.getElementById("roleTag");
  if(!pack){
    tag.textContent = "Choose a role above to start.";
    tag.hidden = false;
    return;
  }
  tag.textContent = pack.label;
  tag.hidden = false;

  // Build cards
  let idx = 0;
  Object.entries(pack.sections).forEach(([section, items])=>{
    const card = document.createElement("div");
    card.className = "card";

    const h2 = document.createElement("h2");
    h2.textContent = section;
    card.appendChild(h2);

    const ul = document.createElement("ul");
    ul.className = "list";

    items.forEach((txt, i)=>{
      const id = `${idx}_${i}`;
      const li = document.createElement("li");
      const cb = document.createElement("input");
      cb.type = "checkbox";
      cb.id = id;
      cb.checked = !!state[id];
      cb.addEventListener("change", e => { state[id] = e.target.checked; saveState(); });

      const label = document.createElement("label");
      label.htmlFor = id;
      label.innerHTML = txt;

      li.appendChild(cb);
      li.appendChild(label);
      ul.appendChild(li);
    });

    card.appendChild(ul);

    // role-specific micro-tips
    if(pack.tips && pack.tips[idx]){
      const tip = document.createElement("div");
      tip.className = "tips";
      tip.innerHTML = `‚òï <b>Coffee Tip:</b> ${pack.tips[idx]}`;
      card.appendChild(tip);
    }

    container.appendChild(card);
    idx++;
  });

  renderProgress();
}

/* ---------- Export / Reset ---------- */
document.getElementById("resetBtn").addEventListener("click", ()=>{
  if(!role) return;
  if(confirm("Reset all checkboxes for this role?")){
    localStorage.removeItem(KEY("state"));
    Object.keys(state).forEach(k=>delete state[k]);
    build();
    document.getElementById("summaryCard").style.display = "none";
  }
});
document.getElementById("exportBtn").addEventListener("click", ()=>{
  const payload = {
    role,
    completed: Object.entries(state).filter(([,v])=>v).map(([k])=>k),
    timestamp: new Date().toISOString()
  };
  const blob = new Blob([JSON.stringify(payload,null,2)], {type:"application/json"});
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = `coffee-checklist-${role}.json`;
  a.click();
});

/* ---------- Skill-Gap Analysis ---------- */
/* Heuristic tags -> advice; add/adjust to taste */
const RULES = [
  { tag:/portfolio|case study|behance|dribbble|readme|narratives|process map/i, advice:"Craft a story-first portfolio: problem ‚Üí your role ‚Üí measurable impact. Link prominently on LinkedIn ‚ÄòFeatured‚Äô." },
  { tag:/framework|react|spring|django|\.net|node|component/i, advice:"Pick one framework to master this month and ship a small app to production (free tier is fine)." },
  { tag:/git|github|branches|pull|pr|code review/i, advice:"Practice clean Git: small commits, clear messages, and at least one PR with a thoughtful description." },
  { tag:/deploy|render|netlify|streamlit|heroku/i, advice:"Deploy at least one project so interviewers can click and try your work." },
  { tag:/testing|pytest|junit|selenium|postman|jmeter/i, advice:"Add automated tests and include a short ‚ÄòHow I test‚Äô section in your README." },
  { tag:/api|json|rest/i, advice:"Build a tiny REST API and a client that consumes it; document endpoints in your README." },
  { tag:/docker|ci\/cd|actions/i, advice:"Containerize one project and add a basic CI workflow (lint + tests on every push)." },
  { tag:/accessibility|wcag/i, advice:"Run an accessibility check (e.g., axe, Lighthouse) and note your fixes in the case study." },
  { tag:/analytics|hotjar|google analytics/i, advice:"Close the loop: add a metric you track and show how it informed a design/code decision." },
  { tag:/agile|scrum|acceptance criteria|stories/i, advice:"Write three crisp user stories with acceptance criteria; add them to your portfolio page." },
  { tag:/sql|data validation/i, advice:"Write a short SQL snippet that validates a business rule and attach it to your sample project." },
  { tag:/domain|banking|insurance|public sector/i, advice:"Read one public domain guide and summarize 3 insights in your notes/portfolio." },
  { tag:/communication|stand-up|storytelling|stakeholder/i, advice:"Practice a 60-second project pitch; record yourself and refine clarity and tone." }
];

/* Section priority: Essentials > Showcase > Edge */
const SECTION_ORDER = ["The Essentials","The Showcase","The Edge"];
function sectionWeight(name){
  const i = SECTION_ORDER.indexOf(name);
  return (i === -1) ? 1 : (SECTION_ORDER.length - i); // Essentials=3, Showcase=2, Edge=1
}

function analyzeGaps(){
  const pack = DATA[role];
  if(!pack) return;

  // Gather unchecked items with section context
  const unchecked = [];
  let sIdx = 0;
  for (const [section, items] of Object.entries(pack.sections)){
    items.forEach((txt, i)=>{
      const id = `${sIdx}_${i}`;
      const checked = !!state[id];
      if(!checked){
        unchecked.push({ section, text: txt, weight: sectionWeight(section) });
      }
    });
    sIdx++;
  }

  const total = document.querySelectorAll('input[type=checkbox]').length;
  const done = document.querySelectorAll('input[type=checkbox]:checked').length;
  const pct = total? Math.round(done*100/total) : 0;

  // Score unchecked by weight; map to advice using RULES
  const adviceMap = new Map();
  unchecked.forEach(item=>{
    // find the first matching rule
    const rule = RULES.find(r => r.tag.test(item.text));
    const key = rule ? rule.advice : `Close a gap in <b>${item.section}</b>: ‚Äú${item.text}‚Äù. Turn it into a concrete task for this week.`;
    const current = adviceMap.get(key) || { score:0, hits:0, sections:new Set() };
    current.score += item.weight;
    current.hits += 1;
    current.sections.add(item.section);
    adviceMap.set(key, current);
  });

  // Sort by score, then hits
  const ranked = [...adviceMap.entries()]
    .map(([advice, meta])=>({advice, ...meta}))
    .sort((a,b)=> b.score - a.score || b.hits - a.hits);

  // Build Top 3 Actions
  const top = ranked.slice(0,3);

  // Section breakdown
  const bySection = {};
  unchecked.forEach(u=>{
    bySection[u.section] = (bySection[u.section]||0) + 1;
  });

  // Render summary
  const card = document.getElementById("summaryCard");
  const intro = document.getElementById("summaryIntro");
  const list = document.getElementById("topActions");
  const breakdown = document.getElementById("sectionBreakdown");
  const roleAdvice = document.getElementById("roleAdvice");

  card.style.display = "block";
  intro.innerHTML = unchecked.length === 0
    ? `<span class="ok">Amazing!</span> You‚Äôve checked everything. Consider polishing storytelling and practicing mock interviews.`
    : `You‚Äôve completed <b>${pct}%</b>. Based on what‚Äôs left unchecked (<b>${unchecked.length}</b> items), here are your <b>Top 3 Actions</b> to boost job-readiness fast:`;

  list.innerHTML = "";
  if (unchecked.length === 0){
    list.innerHTML = `<li>Run a final pass on your portfolio/resume and schedule two coffee chats this week.</li>`;
  } else {
    top.forEach((t, i)=>{
      const li = document.createElement("li");
      li.innerHTML = `${i+1}. ${t.advice} <span class="badge">priority +${t.score}</span>`;
      list.appendChild(li);
    });
  }

  const secHtml = Object.keys(pack.sections).map(s=>{
    const missing = bySection[s] || 0;
    const totalInSection = pack.sections[s].length;
    const doneInSection = totalInSection - missing;
    const pctSec = Math.round((doneInSection*100)/totalInSection);
    return `<div class="tips" style="margin-top:10px">
      <b>${s}:</b> ${doneInSection}/${totalInSection} complete (${pctSec}%).
      ${missing>0 ? `Focus here next: <i>${missing}</i> item(s) remain.` : `Great work ‚Äî this area is strong.`}
    </div>`;
  }).join("");

  breakdown.innerHTML = `<h3 style="margin:14px 0 8px 0;color:var(--mocha)">Section Focus</h3>${secHtml}`;

  // Role-specific nudge
  const nudges = {
    designer: "Aim to publish one story-driven case study this week. Include problem, constraints, before/after, and 1 metric.",
    developer: "Ship something small to prod (free hosting is fine). A live link + screenshot often beats words on a resume.",
    tester: "Record a short screen-capture of your test run and link it in your README. It instantly demonstrates rigor.",
    analyst: "Write three crisp user stories with acceptance criteria and attach a simple swimlane diagram."
  };
  roleAdvice.innerHTML = `‚òï <b>Role Nudge:</b> ${nudges[role] || "Turn gaps into 45-minute tasks. Consistency compounds."}`;
}

/* ---------- Init + Events ---------- */
document.getElementById("analyzeBtn").addEventListener("click", analyzeGaps);

build();
</script>
</body>
</html>
